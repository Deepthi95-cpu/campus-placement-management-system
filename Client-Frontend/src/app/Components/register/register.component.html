<div style="height: 70vh">
  <div class="lg:w-5/12 mt-3 p-5 shadow-lg mx-auto">
    <h3 class="text-3xl text-center font-bold py-2">Register</h3>

    <!-- Success message if registration is successful -->
    <div *ngIf="registrationSuccess" class="alert alert-success" role="alert">
      Registration Successful! Please login to continue.
    </div>

    <!-- Error message with close button if registration fails -->
    <div *ngIf="showErrorMessages" class="alert alert-danger alert-dismissible fade show" role="alert">
    {{ errorMessage }}
      <button type="button" class="close" (click)="dismissError()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <!-- Registration form -->
    <form [formGroup]="registerForm" class="flex flex-col">
      <!-- Username Field -->
      <div class="flex flex-col mt-2 mb-1">
        <input
          formControlName="username"
          class="p-2 border border-gray-300 rounded"
          type="text"
          placeholder="Username"
        />
        <span
          *ngIf="registerForm.hasError('required', 'username') && registerForm.controls['username'].dirty"
          class="text-red-500"
        >
          *Username is required
        </span>
      </div>

      <!-- Email Field -->
      <div class="flex flex-col mt-2 mb-1">
        <input
          formControlName="email"
          class="p-2 border border-gray-300 rounded"
          type="email"
          placeholder="Email"
        />
        <span
          *ngIf="registerForm.hasError('required', 'email') && registerForm.controls['email'].dirty"
          class="text-red-500"
        >
          *Email is required
        </span>
        <span
          *ngIf="registerForm.hasError('email', 'email') && registerForm.controls['email'].dirty"
          class="text-red-500"
        >
          *Please enter a valid email
        </span>
      </div>

      <!-- Password Field -->
      <div class="flex flex-col mt-2 mb-1 relative">
        <input
          formControlName="password"
          [type]="showPassword ? 'text' : 'password'"
          class="p-2 border border-gray-300 rounded"
          placeholder="Password"
        />
        <span
          *ngIf="registerForm.hasError('required', 'password') && registerForm.controls['password'].dirty"
          class="text-red-500"
        >
          *Password is required
        </span>

        <!-- Eye Icon for toggling password visibility -->
        <button
          type="button"
          (click)="showPassword = !showPassword"
          class="absolute right-3 top-3 text-gray-600"
          aria-label="Toggle Password Visibility"
        >
          <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
        </button>
      </div>

      <button
        [disabled]="registerForm.invalid"
        [class.disabled]="registerForm.invalid"
        (click)="register()"
        class="bg-blue-900 p-2 rounded mt-3 text-white hover:bg-blue-700"
      >
        Register
      </button>
    </form>

    <div class="flex justify-center mt-3">
      <span>Already have an account?</span>
      <a routerLink="/login" class="text-indigo-600 ml-2 cursor-pointer"
        >Login Here</a
      >
    </div>
  </div>
</div>
